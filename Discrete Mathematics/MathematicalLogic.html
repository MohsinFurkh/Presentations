<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An Interactive Guide to Mathematical Logic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Academic Calm -->
    <!-- Application Structure Plan: The SPA is organized into four main, navigable sections: Introduction, Propositional Logic, Predicate Logic, and Rules of Inference. This thematic, non-linear structure allows users to either follow a logical progression or jump directly to a topic of interest, reducing cognitive load compared to a single long-form document. Key interactions are designed to transform passive reading into active learning. For example, the Truth Table Generator lets users build tables from their own formulas, and the Nested Quantifier Visualizer provides a concrete, game-like illustration of an abstract concept. This structure was chosen because it chunks complex information into manageable, interactive modules, which is more effective for educational content than a linear presentation. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Basic logical connectives. -> Goal: Inform/Interact. -> Viz/Method: Clickable buttons that dynamically display details (name, symbol, truth table) for each connective. -> Justification: More engaging and focused than a static list. -> Library/Method: HTML/JS.
        - Report Info: Truth table construction. -> Goal: Teach by doing. -> Viz/Method: An input field for a user-defined formula, which generates a complete HTML truth table and classifies the result. -> Justification: Demystifies the process by making it hands-on. -> Library/Method: HTML/JS with a simple expression parser.
        - Report Info: Common logical equivalences. -> Goal: Organize/Inform. -> Viz/Method: Interactive, expandable cards for each equivalence law. -> Justification: Presents a dense list of rules in a clean, digestible format. -> Library/Method: HTML/CSS/JS.
        - Report Info: Nested quantifiers (∀x ∃y vs ∃y ∀x). -> Goal: Illustrate a complex concept. -> Viz/Method: An interactive grid visualization where the user can see the app attempt to satisfy each statement, highlighting the crucial role of quantifier order and dependency. -> Justification: Provides a much-needed visual aid for the most abstract topic in the report. -> Library/Method: HTML/JS.
        - Report Info: Propositional and Predicate inference rules. -> Goal: Organize/Compare. -> Viz/Method: Two distinct sets of interactive cards, one for propositional rules and one for quantifier rules. -> Justification: Clearly separates the two types of rules while using a consistent, user-friendly presentation format. -> Library/Method: HTML/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .nav-active {
            background-color: #3b82f6;
            color: white;
        }
        .nav-inactive {
            background-color: #e5e7eb;
            color: #374151;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .info-card {
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        .info-card .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .info-card.open .details {
            max-height: 500px; 
        }
        .quantifier-grid-cell {
            width: 3rem;
            height: 3rem;
            border: 1px solid #d1d5db;
            transition: background-color 0.3s;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">
    <nav>
        <div class="nav-container">
            <a href="../index.html" class="logo">
                <img src="../images/icon.jpg" alt="Mohsin Furkh Dar Logo" style="height: 40px;">
                <div class="logo-text">
                    <span class="logo-main">Mohsin Furkh Dar</span>
                    <span class="logo-sub">PhD Candidate</span>
                </div>
            </a>
            <button class="menu-toggle" aria-label="Toggle navigation" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <ul id="mainNav">
                <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="../index.html#courses"><i class="fas fa-book"></i> Courses</a></li>
                <li><a href="../index.html#lecture-notes"><i class="fas fa-file-alt"></i> Lecture Notes</a></li>
                <li><a href="../index.html#presentations"><i class="fas fa-chalkboard-teacher"></i> Presentations</a></li>
                <li><a href="../index.html#mcqs"><i class="fas fa-question-circle"></i> MCQs</a></li>
                <li><a href="../index.html#research"><i class="fas fa-flask"></i> Research</a></li>
                <li><a href="../index.html#contact"><i class="fas fa-envelope"></i> Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600">An Interactive Guide to Mathematical Logic</h1>
            <p class="mt-2 text-lg text-stone-600">From Propositions to Predicates: A Hands-On Exploration</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
            <button data-target="intro" class="nav-btn px-4 py-2 rounded-lg font-semibold transition-colors duration-300">Introduction</button>
            <button data-target="propositional" class="nav-btn px-4 py-2 rounded-lg font-semibold transition-colors duration-300">Propositional Logic</button>
            <button data-target="predicate" class="nav-btn px-4 py-2 rounded-lg font-semibold transition-colors duration-300">Predicate Logic</button>
            <button data-target="inference" class="nav-btn px-4 py-2 rounded-lg font-semibold transition-colors duration-300">Rules of Inference</button>
        </nav>

        <main>
            <!-- Introduction Section -->
            <section id="intro" class="content-section p-4 md:p-8 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-blue-600 mb-4">Welcome to the World of Logic</h2>
                <div class="space-y-4 text-stone-700 leading-relaxed">
                    <p>Mathematical logic is the rigorous framework for understanding and formalizing reasoning. It's a cornerstone of both modern mathematics and computer science, providing the tools to build sound arguments, design complex computer systems, and even explore the limits of what can be proven.</p>
                    <p>This guide is designed to be an interactive journey. Instead of just reading, you'll get to engage with the core concepts directly. You'll build truth tables, visualize how quantifiers change a statement's meaning, and see how rules of inference allow us to derive new truths from existing knowledge. The goal is to move from abstract theory to tangible understanding.</p>
                    <div class="mt-6 p-4 bg-sky-50 border-l-4 border-sky-500 rounded-r-lg">
                        <h3 class="font-bold text-sky-800">Why is Logic So Important?</h3>
                        <p class="mt-2 text-sky-700">In mathematics, logic provides the foundation for proofs. In computer science, it's the bedrock of everything from chip design (logic gates) and programming languages (`if-then-else` statements) to artificial intelligence and database queries. A solid grasp of logic is essential for clear, structured, and effective problem-solving in any technical field.</p>
                    </div>
                </div>
            </section>

            <!-- Propositional Logic Section -->
            <section id="propositional" class="content-section p-4 md:p-8 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-blue-600 mb-4">Part 1: Propositional Logic</h2>
                <p class="mb-8 text-stone-700 leading-relaxed">Propositional logic is the starting point. It deals with simple, declarative sentences called **propositions**, which can be either definitively True or False. We combine these simple propositions using logical connectives to form more complex statements. This section lets you explore these fundamental building blocks.</p>

                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Connective Explorer -->
                    <div class="p-6 bg-stone-100 rounded-xl">
                        <h3 class="text-2xl font-bold mb-4">Connective Explorer</h3>
                        <p class="mb-4">Click a connective to see its details.</p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <button class="connective-btn p-2 bg-blue-500 text-white rounded-lg" data-connective="and">AND (∧)</button>
                            <button class="connective-btn p-2 bg-blue-500 text-white rounded-lg" data-connective="or">OR (∨)</button>
                            <button class="connective-btn p-2 bg-blue-500 text-white rounded-lg" data-connective="not">NOT (¬)</button>
                            <button class="connective-btn p-2 bg-blue-500 text-white rounded-lg" data-connective="if">IF...THEN (→)</button>
                            <button class="connective-btn p-2 bg-blue-500 text-white rounded-lg" data-connective="iff">IFF (↔)</button>
                        </div>
                        <div id="connective-display" class="p-4 bg-white rounded-lg min-h-[200px]">
                            <p>Select a connective above to learn about it.</p>
                        </div>
                    </div>
                    <!-- Truth Table Generator -->
                    <div class="p-6 bg-stone-100 rounded-xl">
                        <h3 class="text-2xl font-bold mb-4">Truth Table Generator</h3>
                        <p class="mb-4">Enter a formula using p, q, r and connectives: <strong>and, or, not, ->, <-></strong>. Use parentheses for grouping.</p>
                        <div class="flex gap-2">
                            <input type="text" id="formula-input" placeholder="e.g., p and (q or not r)" class="w-full p-2 border rounded-lg">
                            <button id="generate-table-btn" class="p-2 bg-green-500 text-white rounded-lg whitespace-nowrap">Generate</button>
                        </div>
                        <div id="table-output" class="mt-4 overflow-x-auto"></div>
                    </div>
                </div>
                
                <div class="mt-8">
                    <h3 class="text-2xl font-bold mb-4">Propositional Equivalences</h3>
                    <p class="mb-4 text-stone-700">Just like in algebra, logical statements can be rewritten into different, yet equivalent, forms. These equivalences are the rules we use to simplify and manipulate logical expressions. Click each law to expand it.</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="info-card bg-sky-50 p-4 rounded-lg" data-card="de-morgans">
                            <h4 class="font-bold text-sky-800">De Morgan's Laws</h4>
                            <div class="details text-sky-700 mt-2 space-y-1">
                                <p><code>¬(p ∧ q) ≡ ¬p ∨ ¬q</code></p>
                                <p><code>¬(p ∨ q) ≡ ¬p ∧ ¬q</code></p>
                                <p class="italic">"The negation of a conjunction is the disjunction of the negations."</p>
                            </div>
                        </div>
                        <div class="info-card bg-sky-50 p-4 rounded-lg" data-card="distributive">
                            <h4 class="font-bold text-sky-800">Distributive Laws</h4>
                            <div class="details text-sky-700 mt-2 space-y-1">
                                <p><code>p ∧ (q ∨ r) ≡ (p ∧ q) ∨ (p ∧ r)</code></p>
                                <p><code>p ∨ (q ∧ r) ≡ (p ∨ q) ∧ (p ∨ r)</code></p>
                            </div>
                        </div>
                         <div class="info-card bg-sky-50 p-4 rounded-lg" data-card="associative">
                            <h4 class="font-bold text-sky-800">Associative Laws</h4>
                            <div class="details text-sky-700 mt-2 space-y-1">
                                <p><code>(p ∧ q) ∧ r ≡ p ∧ (q ∧ r)</code></p>
                                <p><code>(p ∨ q) ∨ r ≡ p ∨ (q ∨ r)</code></p>
                            </div>
                        </div>
                        <div class="info-card bg-sky-50 p-4 rounded-lg" data-card="commutative">
                            <h4 class="font-bold text-sky-800">Commutative Laws</h4>
                            <div class="details text-sky-700 mt-2 space-y-1">
                                <p><code>p ∧ q ≡ q ∧ p</code></p>
                                <p><code>p ∨ q ≡ q ∨ p</code></p>
                            </div>
                        </div>
                        <div class="info-card bg-sky-50 p-4 rounded-lg" data-card="double-negation">
                            <h4 class="font-bold text-sky-800">Double Negation</h4>
                            <div class="details text-sky-700 mt-2 space-y-1">
                                <p><code>¬(¬p) ≡ p</code></p>
                            </div>
                        </div>
                        <div class="info-card bg-sky-50 p-4 rounded-lg" data-card="identity">
                            <h4 class="font-bold text-sky-800">Identity & Domination</h4>
                            <div class="details text-sky-700 mt-2 space-y-1">
                                <p><code>p ∧ T ≡ p</code> (Identity)</p>
                                <p><code>p ∨ F ≡ p</code> (Identity)</p>
                                <p><code>p ∧ F ≡ F</code> (Domination)</p>
                                <p><code>p ∨ T ≡ T</code> (Domination)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Predicate Logic Section -->
            <section id="predicate" class="content-section p-4 md:p-8 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-blue-600 mb-4">Part 2: Predicate Logic</h2>
                <p class="mb-8 text-stone-700 leading-relaxed">Propositional logic is powerful, but limited. It can't analyze the internal structure of a statement like "All humans are mortal." Predicate logic extends our language by introducing **predicates** (properties or relations), **variables** (representing objects), and **quantifiers** (which state the scope of a claim). This allows us to reason about objects and their properties in a much more granular and expressive way.</p>

                <div class="p-6 bg-stone-100 rounded-xl">
                    <h3 class="text-2xl font-bold mb-2">Quantifier Visualizer</h3>
                    <p class="mb-4">One of the most critical concepts in predicate logic is that the **order of quantifiers matters**. Let's visualize this. Consider a 5x5 grid of cells and the predicate <code>P(x,y)</code> meaning "the cell at row x, column y is colored." See what happens when we try to satisfy two different statements.</p>
                    
                    <div class="flex justify-center gap-4 mb-4">
                        <button id="vis-for-all-exists" class="p-2 bg-blue-500 text-white rounded-lg">Visualize ∀x ∃y P(x,y)</button>
                        <button id="vis-exists-for-all" class="p-2 bg-blue-500 text-white rounded-lg">Visualize ∃y ∀x P(x,y)</button>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                        <div id="quantifier-grid" class="flex flex-col items-center gap-1 bg-white p-4 rounded-lg shadow-inner"></div>
                        <div id="quantifier-explanation" class="p-4 bg-white rounded-lg min-h-[200px]">
                            <h4 class="font-bold text-xl mb-2">Explanation</h4>
                            <div id="explanation-text">Select a visualization to begin.</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Rules of Inference Section -->
            <section id="inference" class="content-section p-4 md:p-8 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-blue-600 mb-4">Part 3: Rules of Inference</h2>
                <p class="mb-8 text-stone-700 leading-relaxed">How do we construct a valid argument? We use **rules of inference**—fundamental, valid argument forms that act as building blocks. These rules allow us to take a set of true premises and derive a new conclusion that is guaranteed to be true. They are the engine of logical deduction.</p>

                <div>
                    <h3 class="text-2xl font-bold mb-4">Propositional Inference Rules</h3>
                    <p class="mb-4 text-stone-700">These rules operate on propositions. Click to expand each rule.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="info-card bg-green-50 p-4 rounded-lg">
                            <h4 class="font-bold text-green-800">Modus Ponens</h4>
                            <div class="details text-green-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> If p → q and p, then q.</p>
                                <p class="italic">If it rains, the ground is wet. It is raining. Therefore, the ground is wet.</p>
                            </div>
                        </div>
                        <div class="info-card bg-green-50 p-4 rounded-lg">
                            <h4 class="font-bold text-green-800">Modus Tollens</h4>
                            <div class="details text-green-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> If p → q and ¬q, then ¬p.</p>
                                <p class="italic">If it rains, the ground is wet. The ground is not wet. Therefore, it is not raining.</p>
                            </div>
                        </div>
                        <div class="info-card bg-green-50 p-4 rounded-lg">
                            <h4 class="font-bold text-green-800">Hypothetical Syllogism</h4>
                            <div class="details text-green-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> If p → q and q → r, then p → r.</p>
                                <p class="italic">If I study, I pass the exam. If I pass the exam, I am happy. Therefore, if I study, I am happy.</p>
                            </div>
                        </div>
                         <div class="info-card bg-green-50 p-4 rounded-lg">
                            <h4 class="font-bold text-green-800">Disjunctive Syllogism</h4>
                            <div class="details text-green-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> If p ∨ q and ¬p, then q.</p>
                                <p class="italic">The key is in the box or the drawer. The key is not in the box. Therefore, it is in the drawer.</p>
                            </div>
                        </div>
                        <div class="info-card bg-green-50 p-4 rounded-lg">
                            <h4 class="font-bold text-green-800">Addition & Simplification</h4>
                            <div class="details text-green-700 mt-2 space-y-1">
                                <p><strong>Addition:</strong> If p, then p ∨ q.</p>
                                <p><strong>Simplification:</strong> If p ∧ q, then p.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12">
                    <h3 class="text-2xl font-bold mb-4">Quantifier Inference Rules</h3>
                     <p class="mb-4 text-stone-700">These rules allow us to introduce or eliminate quantifiers, bridging the gap between general statements and specific instances.</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="info-card bg-purple-50 p-4 rounded-lg">
                            <h4 class="font-bold text-purple-800">Universal Instantiation (UI)</h4>
                            <div class="details text-purple-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> From ∀x P(x), infer P(c).</p>
                                <p class="italic">From "All humans are mortal," we can infer "Socrates is mortal."</p>
                            </div>
                        </div>
                        <div class="info-card bg-purple-50 p-4 rounded-lg">
                            <h4 class="font-bold text-purple-800">Universal Generalization (UG)</h4>
                            <div class="details text-purple-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> From P(c) for an arbitrary c, infer ∀x P(x).</p>
                                <p class="italic">If we can prove a property for a truly arbitrary number, we can say it holds for all numbers.</p>
                            </div>
                        </div>
                        <div class="info-card bg-purple-50 p-4 rounded-lg">
                            <h4 class="font-bold text-purple-800">Existential Instantiation (EI)</h4>
                            <div class="details text-purple-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> From ∃x P(x), infer P(c) for some new constant c.</p>
                                <p class="italic">From "Someone won the lottery," we can say "Let's call the winner 'c'" and reason about them.</p>
                            </div>
                        </div>
                        <div class="info-card bg-purple-50 p-4 rounded-lg">
                            <h4 class="font-bold text-purple-800">Existential Generalization (EG)</h4>
                            <div class="details text-purple-700 mt-2 space-y-1">
                                <p><strong>Form:</strong> From P(c), infer ∃x P(x).</p>
                                <p class="italic">From "My dog Fido has fleas," we can infer "There exists a dog with fleas."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navButtons = document.querySelectorAll('.nav-btn');
            const contentSections = document.querySelectorAll('.content-section');
            const infoCards = document.querySelectorAll('.info-card');

            function setActiveSection(targetId) {
                contentSections.forEach(section => {
                    section.classList.toggle('active', section.id === targetId);
                });
                navButtons.forEach(button => {
                    button.classList.toggle('nav-active', button.dataset.target === targetId);
                    button.classList.toggle('nav-inactive', button.dataset.target !== targetId);
                });
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => setActiveSection(button.dataset.target));
            });
            
            infoCards.forEach(card => {
                card.addEventListener('click', () => card.classList.toggle('open'));
            });

            setActiveSection('intro');
            
            setupConnectiveExplorer();
            setupTruthTableGenerator();
            setupQuantifierVisualizer();
        });
        
        function setupConnectiveExplorer() {
            const display = document.getElementById('connective-display');
            const connectives = {
                and: { name: 'Conjunction (AND)', symbol: 'p ∧ q', desc: 'True only when both p and q are true.' },
                or:  { name: 'Disjunction (OR)', symbol: 'p ∨ q', desc: 'True if at least one of p or q is true.' },
                not: { name: 'Negation (NOT)', symbol: '¬p', desc: 'Reverses the truth value of p.' },
                if:  { name: 'Conditional (IF...THEN)', symbol: 'p → q', desc: 'False only when p is true and q is false.' },
                iff: { name: 'Biconditional (IFF)', symbol: 'p ↔ q', desc: 'True only when p and q have the same truth value.' }
            };
            const truthTables = {
                and: '| p | q | p ∧ q |\n| T | T |   T   |\n| T | F |   F   |\n| F | T |   F   |\n| F | F |   F   |',
                or:  '| p | q | p ∨ q |\n| T | T |   T   |\n| T | F |   T   |\n| F | T |   T   |\n| F | F |   F   |',
                not: '| p | ¬p |\n| T | F |\n| F | T |',
                if:  '| p | q | p → q |\n| T | T |   T   |\n| T | F |   F   |\n| F | T |   T   |\n| F | F |   T   |',
                iff: '| p | q | p ↔ q |\n| T | T |   T   |\n| T | F |   F   |\n| F | T |   F   |\n| F | F |   T   |'
            };

            document.querySelectorAll('.connective-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const key = btn.dataset.connective;
                    const data = connectives[key];
                    const table = truthTables[key];
                    display.innerHTML = `
                        <h4 class="font-bold text-lg">${data.name}</h4>
                        <p class="text-2xl font-mono my-2">${data.symbol}</p>
                        <p class="mb-2">${data.desc}</p>
                        <pre class="bg-stone-100 p-2 rounded text-sm">${table}</pre>
                    `;
                });
            });
        }
        
        function setupTruthTableGenerator() {
            const input = document.getElementById('formula-input');
            const button = document.getElementById('generate-table-btn');
            const output = document.getElementById('table-output');

            button.addEventListener('click', () => {
                const formula = input.value.trim();
                if (!formula) {
                    output.innerHTML = `<p class="text-red-500">Please enter a formula.</p>`;
                    return;
                }
                try {
                    const result = generateTable(formula);
                    output.innerHTML = result;
                } catch (e) {
                    output.innerHTML = `<p class="text-red-500">Error: ${e.message}</p>`;
                }
            });
            
            function generateTable(formula) {
                const vars = [...new Set(formula.match(/[pqr]/g) || [])].sort();
                if (vars.length === 0 || vars.length > 3) {
                    throw new Error("Please use 1 to 3 variables (p, q, r).");
                }

                const tokens = formula.replace(/\(/g, ' ( ').replace(/\)/g, ' ) ').trim().split(/\s+/);
                const precedence = { '<->': 1, '->': 2, 'or': 3, 'and': 4, 'not': 5 };

                function toRPN(tokens) {
                    const outputQueue = [];
                    const operatorStack = [];
                    tokens.forEach(token => {
                        if (vars.includes(token)) {
                            outputQueue.push(token);
                        } else if (token in precedence) {
                            while (operatorStack.length > 0 &&
                                operatorStack[operatorStack.length - 1] !== '(' &&
                                precedence[operatorStack[operatorStack.length - 1]] >= precedence[token]) {
                                outputQueue.push(operatorStack.pop());
                            }
                            operatorStack.push(token);
                        } else if (token === '(') {
                            operatorStack.push(token);
                        } else if (token === ')') {
                            while (operatorStack.length > 0 && operatorStack[operatorStack.length - 1] !== '(') {
                                outputQueue.push(operatorStack.pop());
                            }
                            if (operatorStack[operatorStack.length - 1] === '(') {
                                operatorStack.pop();
                            }
                        }
                    });
                    while (operatorStack.length > 0) {
                        outputQueue.push(operatorStack.pop());
                    }
                    return outputQueue;
                }
                
                const rpn = toRPN(tokens);
                const subFormulas = getSubformulas(rpn, vars);
                
                const header = [...vars, ...subFormulas];
                const rowCount = Math.pow(2, vars.length);
                let tableHTML = `<table class="w-full text-center border-collapse"><thead><tr>`;
                header.forEach(h => tableHTML += `<th class="border p-2 bg-stone-200">${h}</th>`);
                tableHTML += `</tr></thead><tbody>`;

                let finalResults = [];
                for (let i = 0; i < rowCount; i++) {
                    tableHTML += `<tr>`;
                    const values = {};
                    vars.forEach((v, j) => {
                        const val = (i >> (vars.length - 1 - j)) & 1;
                        values[v] = !!val;
                        tableHTML += `<td class="border p-2">${val ? 'T' : 'F'}</td>`;
                    });

                    const rpnValues = {};
                    subFormulas.forEach(sub => {
                        const subRpn = toRPN(sub.replace(/\(/g, ' ( ').replace(/\)/g, ' ) ').trim().split(/\s+/));
                        const result = evaluateRPN(subRpn, values);
                        rpnValues[sub] = result;
                        tableHTML += `<td class="border p-2">${result ? 'T' : 'F'}</td>`;
                    });
                     finalResults.push(rpnValues[formula]);
                    tableHTML += `</tr>`;
                }
                tableHTML += `</tbody></table>`;
                
                const isTautology = finalResults.every(v => v);
                const isContradiction = finalResults.every(v => !v);
                let resultType = '';
                if(isTautology) resultType = `<p class="mt-4 text-center font-bold text-green-600">This is a Tautology (always true).</p>`;
                else if(isContradiction) resultType = `<p class="mt-4 text-center font-bold text-red-600">This is a Contradiction (always false).</p>`;
                else resultType = `<p class="mt-4 text-center font-bold text-blue-600">This is a Contingency.</p>`;

                return tableHTML + resultType;
            }
            
            function getSubformulas(rpn, vars) {
                const stack = [];
                const subformulas = new Set();
                rpn.forEach(token => {
                    if (vars.includes(token)) {
                        stack.push(token);
                    } else if (token === 'not') {
                        const operand = stack.pop();
                        const expr = `(not ${operand})`;
                        stack.push(expr);
                        subformulas.add(expr);
                    } else {
                        const op2 = stack.pop();
                        const op1 = stack.pop();
                        const expr = `(${op1} ${token} ${op2})`;
                        stack.push(expr);
                        subformulas.add(expr);
                    }
                });
                return [...subformulas].sort((a,b) => a.length - b.length);
            }

            function evaluateRPN(rpn, values) {
                const stack = [];
                rpn.forEach(token => {
                    if (token in values) {
                        stack.push(values[token]);
                    } else {
                        if (token === 'not') {
                            stack.push(!stack.pop());
                        } else {
                            const b = stack.pop();
                            const a = stack.pop();
                            if (token === 'and') stack.push(a && b);
                            else if (token === 'or') stack.push(a || b);
                            else if (token === '->') stack.push(!a || b);
                            else if (token === '<->') stack.push(a === b);
                        }
                    }
                });
                return stack[0];
            }
        }

        function setupQuantifierVisualizer() {
            const gridContainer = document.getElementById('quantifier-grid');
            const explanationText = document.getElementById('explanation-text');
            const visBtn1 = document.getElementById('vis-for-all-exists');
            const visBtn2 = document.getElementById('vis-exists-for-all');
            const GRID_SIZE = 5;

            function createGrid() {
                gridContainer.innerHTML = '';
                for (let i = 0; i < GRID_SIZE; i++) {
                    const row = document.createElement('div');
                    row.className = 'flex';
                    for (let j = 0; j < GRID_SIZE; j++) {
                        const cell = document.createElement('div');
                        cell.className = 'quantifier-grid-cell';
                        cell.id = `cell-${i}-${j}`;
                        row.appendChild(cell);
                    }
                    gridContainer.appendChild(row);
                }
            }

            function clearGrid() {
                document.querySelectorAll('.quantifier-grid-cell').forEach(cell => {
                    cell.style.backgroundColor = 'white';
                });
            }

            async function animateForAllExists() {
                createGrid();
                explanationText.innerHTML = `<strong>Trying to satisfy: ∀x ∃y P(x,y)</strong><br>"For every row x, there exists a column y such that cell (x,y) is colored."<br>Let's check each row...`;
                let satisfied = true;
                for (let i = 0; i < GRID_SIZE; i++) {
                    await new Promise(r => setTimeout(r, 400));
                    const j = Math.floor(Math.random() * GRID_SIZE);
                    document.getElementById(`cell-${i}-${j}`).style.backgroundColor = '#3b82f6';
                    explanationText.innerHTML += `<br>For row ${i+1}, we found a cell to color at column ${j+1}.`;
                }
                explanationText.innerHTML += `<br><strong class="text-green-600 mt-2 block">SUCCESS! The statement is TRUE.</strong> We could find a cell to color in every row. The choice of column could be different for each row.`;
            }

            async function animateExistsForAll() {
                createGrid();
                explanationText.innerHTML = `<strong>Trying to satisfy: ∃y ∀x P(x,y)</strong><br>"There exists a column y such that for every row x, cell (x,y) is colored."<br>We must find ONE column that works for ALL rows.`;
                const j = Math.floor(Math.random() * GRID_SIZE); 
                explanationText.innerHTML += `<br>Let's try to color the entire column ${j+1}.`;
                for (let i = 0; i < GRID_SIZE; i++) {
                    await new Promise(r => setTimeout(r, 400));
                    document.getElementById(`cell-${i}-${j}`).style.backgroundColor = '#6366f1';
                }
                explanationText.innerHTML += `<br><strong class="text-green-600 mt-2 block">SUCCESS! The statement is TRUE.</strong> We found one column (column ${j+1}) that we could color for all rows. This is a much stronger condition.`;
            }
            
            createGrid(); // Initial grid
            visBtn1.addEventListener('click', animateForAllExists);
            visBtn2.addEventListener('click', animateExistsForAll);
        }
    </script>
    
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#courses">Courses</a></li>
                    <li><a href="../index.html#lecture-notes">Lecture Notes</a></li>
                    <li><a href="../index.html#presentations">Presentations</a></li>
                    <li><a href="../index.html#mcqs">MCQs</a></li>
                    <li><a href="../index.html#research">Research</a></li>
                    <li><a href="../index.html#contact">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>University Links</h4>
                <ul>
                    <li><a href="https://uohyd.ac.in" target="_blank">University of Hyderabad</a></li>
                    <li><a href="https://scis.uohyd.ac.in" target="_blank">SCIS Department</a></li>
                    <li><a href="#">Academic Calendar</a></li>
                    <li><a href="#">Library Resources</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Connect</h4>
                <div class="social-links">
                    <a href="https://scholar.google.com" target="_blank" aria-label="Google Scholar"><i class="fab fa-google scholar-icon"></i></a>
                    <a href="https://linkedin.com" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://github.com" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
                    <a href="https://twitter.com" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="https://orcid.org" target="_blank" aria-label="ORCID"><i class="fab fa-orcid"></i></a>
                </div>
                <div class="newsletter">
                    <p>Subscribe to my newsletter for updates</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your email address" required>
                        <button type="submit" class="btn-subscribe">Subscribe</button>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-container">
                <p>&copy; 2025 Dr. Mohsin Furkh Dar. All rights reserved.</p>
                <div class="footer-legal">
                    <a href="#">Privacy Policy</a>
                    <span>|</span>
                    <a href="#">Terms of Use</a>
                    <span>|</span>
                    <a href="#">Accessibility</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../../js/script.js"></script>
    <script>
        // Mobile menu toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('mobileMenuToggle');
            const mainNav = document.getElementById('mainNav');
            
            if (menuToggle && mainNav) {
                menuToggle.addEventListener('click', function() {
                    mainNav.classList.toggle('active');
                });
            }
        });
    </script>
</body>
</html>
